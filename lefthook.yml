pre-commit:
  commands:
    format-fix:
      glob: "*.{ts,mjs}"
      run: bun run format-fix {staged_files}
      stage_fixed: true
    lint-fix:
      glob: "*.{ts,mjs}"
      run: bun run lint-fix {staged_files}
      stage_fixed: true
    check:
      run: bun run check

pre-push:
  commands:
    no-master-push:
      run: |
        branch=$(git rev-parse --abbrev-ref HEAD)
        if [ "$branch" = "master" ]; then
          echo "Direct pushes to master are disabled. Use a PR."
          exit 1
        fi
